`typedef` æ˜¯C++ï¼ˆä»¥åŠCè¯­è¨€ï¼‰ä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºä¸ºç°æœ‰çš„æ•°æ®ç±»å‹åˆ›å»ºä¸€ä¸ªæ–°çš„åå­—ã€‚è¿™å¯ä»¥ä½¿å¾—ä»£ç æ›´åŠ æ˜“è¯»ï¼Œå°¤å…¶æ˜¯å½“å¤„ç†å¤æ‚çš„æ•°æ®ç»“æ„æ—¶ã€‚é€šè¿‡ `typedef`ï¼Œä½ å¯ä»¥ç®€åŒ–ç±»å‹çš„åç§°ï¼Œæˆ–è€…ä¸ºæ¨¡æ¿å‚æ•°åˆ›å»ºåˆ«åç­‰ã€‚

### åŸºæœ¬ç”¨æ³•

`typedef` çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š

```cpp
typedef existing_type new_type_name;
```

è¿™é‡Œï¼Œ`existing_type` æ˜¯ä½ æƒ³è¦ä¸ºå…¶åˆ›å»ºåˆ«åçš„å·²æœ‰ç±»å‹ï¼Œè€Œ `new_type_name` æ˜¯ä½ ç»™è¿™ä¸ªç±»å‹æŒ‡å®šçš„æ–°åç§°ã€‚

### ç¤ºä¾‹

#### 1. ç®€åŒ–åŸºæœ¬ç±»å‹

```cpp
typedef unsigned long ulong;
```

è¿™è¡Œä»£ç å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±»å‹åç§° `ulong`ï¼Œå®ƒå®é™…ä¸Šæ˜¯ `unsigned long` ç±»å‹çš„ä¸€ä¸ªåˆ«åã€‚

#### 2. ç®€åŒ–å¤æ‚ç±»å‹

å¯¹äºæŒ‡é’ˆæˆ–æ•°ç»„ç­‰å¤æ‚ç±»å‹ï¼Œ`typedef` å¯ä»¥è®©å®ƒä»¬æ›´å®¹æ˜“ç†è§£å’Œä½¿ç”¨ã€‚

```cpp
typedef char* pChar;
pChar variable1, variable2;
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`pChar` æˆä¸ºäº†æŒ‡å‘ `char` çš„æŒ‡é’ˆç±»å‹çš„åˆ«åã€‚æ³¨æ„ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œ`variable1` å’Œ `variable2` éƒ½æ˜¯æŒ‡å‘ `char` çš„æŒ‡é’ˆã€‚

#### 3. ç»“æ„ä½“ç±»å‹

åœ¨Cè¯­è¨€ä¸­ï¼Œç»“æ„ä½“ç±»å‹ä½¿ç”¨å‰éœ€è¦åŠ ä¸Š `struct` å…³é”®å­—ã€‚ä½¿ç”¨ `typedef` å¯ä»¥çœç•¥è¿™ä¸€ç‚¹ã€‚

```cpp
typedef struct {
    int id;
    char name[50];
} Person;
```

ç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨ `Person` æ¥å£°æ˜å˜é‡ï¼Œè€Œä¸éœ€è¦å†™æˆ `struct Person`ã€‚

#### 4. å‡½æ•°æŒ‡é’ˆ

å‡½æ•°æŒ‡é’ˆçš„å£°æ˜å¾€å¾€æ¯”è¾ƒå¤æ‚ï¼Œä½¿ç”¨ `typedef` å¯ä»¥ä½¿å…¶æ›´æ¸…æ™°ã€‚

```cpp
typedef int (*MathOperation)(int, int);
```

è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªåä¸º `MathOperation` çš„æ–°ç±»å‹ï¼Œå®ƒå¯ä»¥æŒ‡å‘ä»»ä½•æ¥å—ä¸¤ä¸ª `int` å‚æ•°å¹¶è¿”å›ä¸€ä¸ª `int` çš„å‡½æ•°ã€‚

### C++11åŠä¹‹åï¼š`using` å…³é”®å­—

ä»C++11å¼€å§‹ï¼Œæ¨èä½¿ç”¨ `using` å…³é”®å­—æ¥ä»£æ›¿ `typedef` åˆ›å»ºç±»å‹åˆ«åï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†æ¨¡æ¿æ—¶ï¼Œ`using` æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚

#### ä½¿ç”¨ `using` æ›¿ä»£ `typedef`

`using` çš„è¯­æ³•é€šå¸¸è¢«è®¤ä¸ºæ¯” `typedef` æ›´ç›´è§‚ï¼š

```cpp
using ulong = unsigned long;
using pChar = char*;
using Person = struct { int id; char name[50]; };
using MathOperation = int(*)(int, int);
```

#### æ¨¡æ¿åˆ«å

`using` è¿˜æ”¯æŒä¸ºæ¨¡æ¿åˆ›å»ºåˆ«åï¼Œè¿™æ˜¯ `typedef` æ‰€ä¸èƒ½ç›´æ¥åšåˆ°çš„ã€‚

```cpp
template<typename T>
using Vec = std::vector<T, MyAllocator<T>>;
```

è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º `Vec` çš„æ¨¡æ¿åˆ«åï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰ç‰¹å®šåˆ†é…å™¨çš„ `std::vector`ã€‚

### æ€»ç»“

- **`typedef`** æ˜¯ä¸€ç§ä¼ ç»Ÿæ–¹å¼ï¼Œç”¨æ¥ä¸ºå¤æ‚ç±»å‹åˆ›å»ºç®€çŸ­æ˜“æ‡‚çš„åˆ«åã€‚
- **`using`** åœ¨C++11åŠå…¶åç‰ˆæœ¬ä¸­æä¾›äº†æ›´æ¸…æ™°ã€æ›´çµæ´»çš„æ–¹å¼æ¥åˆ›å»ºç±»å‹åˆ«åï¼Œå¹¶ä¸”æ”¯æŒæ¨¡æ¿åˆ«åã€‚
- åœ¨ç°ä»£C++ç¼–ç¨‹ä¸­ï¼Œè™½ç„¶ `typedef` ä»ç„¶è¢«å¹¿æ³›ä½¿ç”¨ï¼Œä½† `using` è¢«è®¤ä¸ºæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œç‰¹åˆ«æ˜¯å½“ä½ å¤„ç†æ¨¡æ¿æ—¶ã€‚

æ­£ç¡®åœ°ä½¿ç”¨ç±»å‹åˆ«åå¯ä»¥ä½¿ä½ çš„ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç†è§£ï¼ŒåŒæ—¶ä¹Ÿèƒ½å‡å°‘é”™è¯¯çš„å‘ç”Ÿã€‚

## å‡½æ•°æŒ‡é’ˆ

`typedef int (*MathOperation)(int, int);` è¿™è¡Œä»£ç ç”¨äºå®šä¹‰ä¸€ä¸ªåä¸º `MathOperation` çš„æ–°ç±»å‹ï¼Œå®ƒæ˜¯æŒ‡å‘ç‰¹å®šç­¾åå‡½æ•°çš„æŒ‡é’ˆã€‚å…·ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–°ç±»å‹è¡¨ç¤ºçš„æ˜¯æŒ‡å‘æ¥å—ä¸¤ä¸ª `int` å‚æ•°å¹¶è¿”å›ä¸€ä¸ª `int` å€¼çš„å‡½æ•°çš„æŒ‡é’ˆã€‚

### è¯¦ç»†è§£é‡Š

- **`int (*)(int, int)`**ï¼šè¿™æ˜¯C++ä¸­å®šä¹‰å‡½æ•°æŒ‡é’ˆçš„æ ‡å‡†è¯­æ³•ã€‚
  - `int` è¡¨ç¤ºå‡½æ•°è¿”å›å€¼çš„ç±»å‹ã€‚
  - `(*)` è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆã€‚
  - `(int, int)` è¡¨ç¤ºè¯¥å‡½æ•°æ¥å—ä¸¤ä¸ª `int` ç±»å‹çš„å‚æ•°ã€‚

- **`typedef`**ï¼šé€šè¿‡ `typedef` å…³é”®å­—ï¼Œä½ å¯ä»¥ä¸ºè¿™ç§ç±»å‹çš„æŒ‡é’ˆåˆ›å»ºä¸€ä¸ªæ–°çš„åç§°ï¼Œå³ `MathOperation`ã€‚

æ‰€ä»¥ï¼Œ`typedef int (*MathOperation)(int, int);` å®é™…ä¸Šæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±»å‹åˆ«å `MathOperation`ï¼Œå®ƒå¯ä»¥ç”¨æ¥å£°æ˜æŒ‡å‘å…·æœ‰ç›¸åº”ç­¾åçš„å‡½æ•°çš„æŒ‡é’ˆã€‚

### ä½¿ç”¨ç¤ºä¾‹

#### å®šä¹‰å’Œä½¿ç”¨å‡½æ•°æŒ‡é’ˆ

ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•å®šä¹‰ã€å£°æ˜ä»¥åŠä½¿ç”¨è¿™æ ·çš„å‡½æ•°æŒ‡é’ˆï¼š

```cpp
#include <iostream>

// å®šä¹‰ MathOperation ä½œä¸ºæŒ‡å‘æ¥å—ä¸¤ä¸ª int å¹¶è¿”å› int çš„å‡½æ•°çš„æŒ‡é’ˆç±»å‹
typedef int (*MathOperation)(int, int);

// å®šä¹‰å‡ ä¸ªç¬¦åˆä¸Šè¿°ç­¾åçš„å‡½æ•°
int add(int a, int b) {
    return a + b;
}

int subtract(int a, int b) {
    return a - b;
}

int main() {
    // åˆ›å»º MathOperation ç±»å‹çš„å˜é‡ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºæŒ‡å‘ add å‡½æ•°
    MathOperation op = add;

    // è°ƒç”¨é€šè¿‡å‡½æ•°æŒ‡é’ˆæŒ‡å‘çš„å‡½æ•°
    std::cout << "5 + 3 = " << op(5, 3) << std::endl; // è¾“å‡º: 5 + 3 = 8

    // æ›´æ”¹ op æŒ‡å‘ subtract å‡½æ•°
    op = subtract;
    std::cout << "5 - 3 = " << op(5, 3) << std::endl; // è¾“å‡º: 5 - 3 = 2

    return 0;
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š

1. æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ `typedef` å®šä¹‰äº† `MathOperation` ç±»å‹ï¼Œå®ƒæ˜¯æŒ‡å‘ç‰¹å®šç­¾åï¼ˆæ¥å—ä¸¤ä¸ª `int` å‚æ•°å¹¶è¿”å›ä¸€ä¸ª `int`ï¼‰çš„å‡½æ•°çš„æŒ‡é’ˆã€‚
2. ç„¶åæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªç¬¦åˆè¯¥ç­¾åçš„å‡½æ•°ï¼š`add` å’Œ `subtract`ã€‚
3. åœ¨ `main` å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª `MathOperation` ç±»å‹çš„å˜é‡ `op`ï¼Œå¹¶è®©å®ƒå…ˆåæŒ‡å‘ä¸åŒçš„å‡½æ•° (`add` å’Œ `subtract`) æ¥å±•ç¤ºå¦‚ä½•é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨ä¸åŒçš„å‡½æ•°ã€‚

### C++11åŠä¹‹åçš„æ›¿ä»£æ–¹æ¡ˆ

åœ¨C++11åŠå…¶åçš„ç‰ˆæœ¬ä¸­ï¼Œæ¨èä½¿ç”¨ `using` å…³é”®å­—æ¥ä»£æ›¿ `typedef`ï¼Œå› ä¸ºå®ƒé€šå¸¸è¢«è®¤ä¸ºæ›´ç›´è§‚ä¸”æ˜“äºç†è§£ã€‚å¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œå¯ä»¥è¿™æ ·é‡å†™ï¼š

```cpp
#include <iostream>

// ä½¿ç”¨ using æ›¿ä»£ typedef
using MathOperation = int(*)(int, int);

// å‡½æ•°å®šä¹‰ä¿æŒä¸å˜
int add(int a, int b) {
    return a + b;
}

int subtract(int a, int b) {
    return a - b;
}

int main() {
    MathOperation op = add;
    std::cout << "5 + 3 = " << op(5, 3) << std::endl; // è¾“å‡º: 5 + 3 = 8

    op = subtract;
    std::cout << "5 - 3 = " << op(5, 3) << std::endl; // è¾“å‡º: 5 - 3 = 2

    return 0;
}
```

è¿™ç§æ–¹å¼ä¸ä»…æ›´åŠ æ¸…æ™°ï¼Œè€Œä¸”åœ¨å¤„ç†æ¨¡æ¿æ—¶ä¹Ÿæä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚ä¸è¿‡ï¼Œåœ¨åŠŸèƒ½ä¸Šï¼Œ`typedef` å’Œ `using` åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ç­‰ä»·çš„ã€‚

# typedef std::string AddressLines[4]

ä½ å†™çš„è¿™è¡Œä»£ç ï¼š

```cpp
typedef std::string AddressLines[4];
```

æ˜¯ä¸€ä¸ª **`typedef`** è¯­å¥ï¼Œå®ƒä¸ºä¸€ä¸ªæ•°ç»„ç±»å‹å®šä¹‰äº†ä¸€ä¸ªæ–°çš„åå­—ã€‚æˆ‘ä»¬æ¥è¯¦ç»†è§£é‡Šå®ƒçš„å«ä¹‰å’Œç”¨é€”ã€‚

---

## âœ… å«ä¹‰è§£æ

```cpp
typedef std::string AddressLines[4];
```

- å®ƒä¸º **é•¿åº¦ä¸º4çš„ `std::string` æ•°ç»„** ç±»å‹å®šä¹‰äº†ä¸€ä¸ªåˆ«åï¼š`AddressLines`ã€‚
- æ¢å¥è¯è¯´ï¼Œ`AddressLines` æ˜¯ä¸€ä¸ªæ–°çš„ç±»å‹åï¼Œè¡¨ç¤ºï¼š
  
  ```cpp
  std::string [4]
  ```

---

## âœ… ä½¿ç”¨ç¤ºä¾‹

```cpp
#include <iostream>
#include <string>

typedef std::string AddressLines[4];

int main() {
    AddressLines addr;

    addr[0] = "John Doe";
    addr[1] = "123 Main St";
    addr[2] = "Cityville";
    addr[3] = "STATE ZIP";

    for (int i = 0; i < 4; ++i) {
        std::cout << addr[i] << std::endl;
    }

    return 0;
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š

- `AddressLines addr;` å£°æ˜äº†ä¸€ä¸ªåŒ…å«4ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ã€‚
- å¯ä»¥åƒæ™®é€šæ•°ç»„ä¸€æ ·è®¿é—®æ¯ä¸ªå…ƒç´ ã€‚

---

## âœ… ç­‰ä»·å†™æ³•ï¼ˆC++11 æ¨èä½¿ç”¨ usingï¼‰

åœ¨ç°ä»£ C++ ä¸­æ¨èä½¿ç”¨ `using` æ¥æ›¿ä»£ `typedef`ï¼Œå› ä¸ºè¯­æ³•æ›´æ¸…æ™°ï¼š

```cpp
using AddressLines = std::string[4];
```

åŠŸèƒ½å®Œå…¨ç›¸åŒã€‚

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### âŒ ä¸èƒ½ç”¨äºåŠ¨æ€å¤§å°ï¼ˆå¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼‰

```cpp
const int N = 5;
typedef std::string AddressLines[N]; // é”™è¯¯ï¼N ä¸æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼ˆé™¤éç”¨ constexprï¼‰
```

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ C++11 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä½¿ç”¨ `constexpr`ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š

```cpp
constexpr int N = 5;
typedef std::string AddressLines[N]; // æ­£ç¡®
```

ä½†æ³¨æ„ï¼šè¿™ç§å›ºå®šå¤§å°æ•°ç»„çš„ `typedef` ä»ç„¶ä¸çµæ´»ï¼Œé€‚åˆå·²çŸ¥å¤§å°çš„åœºæ™¯ã€‚

---

## âœ… æ›´ç°ä»£çš„æ›¿ä»£æ–¹æ¡ˆï¼š`std::array`

å¦‚æœä½ æƒ³è¦æ›´å¼ºç±»å‹å®‰å…¨æ€§ã€æ›´å¥½çš„å¯è¯»æ€§å’Œæ›´å¤šåŠŸèƒ½ï¼Œå»ºè®®ä½¿ç”¨ `std::array` æ›¿ä»£åŸç”Ÿæ•°ç»„ï¼š

```cpp
#include <array>
#include <string>

using AddressLines = std::array<std::string, 4>;
```

ç„¶åä½ å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š

```cpp
AddressLines addr = {"Alice", "456 Oak Rd", "Townsville", "CA 98765"};
```

ä¼˜ç‚¹åŒ…æ‹¬ï¼š

- æ”¯æŒè¿­ä»£å™¨
- æœ‰ `.size()` æ–¹æ³•
- å¯æ‹·è´èµ‹å€¼
- æ›´å®‰å…¨ã€æ›´ç°ä»£

---

## âœ… æ€»ç»“

| å†™æ³•                                               | æ˜¯å¦åˆæ³• | æ¨èç¨‹åº¦    | è¯´æ˜                |
| -------------------------------------------------- | -------- | ----------- | ------------------- |
| `typedef std::string AddressLines[4];`             | âœ… æ˜¯     | âš ï¸ ä¸€èˆ¬      | è€å¼ C é£æ ¼ typedef |
| `using AddressLines = std::string[4];`             | âœ… æ˜¯     | âœ… æ¨è      | æ›´æ¸…æ™°çš„ç°ä»£å†™æ³•    |
| `using AddressLines = std::array<std::string, 4>;` | âœ… æ˜¯     | âœ…âœ… æœ€ä½³å®è·µ | æ›´å®‰å…¨ã€åŠŸèƒ½ä¸°å¯Œ    |

---

å¦‚ä½ è¿˜æœ‰å…³äº `typedef`ã€æ•°ç»„ã€åˆ«åæˆ– `std::array` çš„é—®é¢˜ï¼Œæ¬¢è¿ç»§ç»­æé—® ğŸ˜Š